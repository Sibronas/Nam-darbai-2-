<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JS2</title>
    </head>

    <body>
        <div>
            <h1 id="page-title">My second JS file</h1>
            <p>logo</p>
            <p>All cars list:</p>
            <p id="cars-list"></p>
            <ol>
                <li></li>
            </ol>
            <button id="add-new-car" onclick="promptAddNewCarLisencePlateNumber(); addCarsToCarsArray(); addCarToOurDataObject()">Add new car</button>
            <button id="check-prompt-valute" onclick="checkPromptValue()">Check prompt value</button>
        </div>
        
        <script>
            /* DECLARATIONS */
            /* naming is byCamelCase, not by snake-case */
            var car, output; // var type is undefined
            var isCarAvailable = true; // var type is boolean
            var carTotal = 20; // integer/number
            var carReserved = 10;
            var saleMessage = 'First 2 hours are for free!'; // string
            var newLisencePlate = ''; // still a string
            var counterOfPrompt = 0;
            var carsList = ['JJT112', 'ASD123',];
            var mainData = {
                clientData: {
                    name: {
                        firstName: 'Asta',
                        lastName: 'Jankauskiene'
                    },
                    email: 'asta@gmailcom',
                    car: {
                        model: '',
                        vehicleType: 'B',
                        lisencePlateNumber: 'none'
                    }      
                },
                adminData: {
                    name: 'Norbertas',
                    email: 'norbertas@gmail.com',
                }
            };
            
            
            /* ACTION / EDITING/ ASSIGNING / FUNCTIONS / CALCULATIONS */
            //alert(mainData.clientData.name.firstName);
            alert(mainData['clientData']['name']['firstName']);
            
            if ((carTotal - carReserved) > 0) {
                //console.log ('if sentence passed')
                carTotal = carTotal - carReserved; // number
            } 
            
            function promptAddNewCarLisencePlateNumber() {
                // DIY. If number plate promt is empty set var value to ''
                // if NOT assign promt value to var. 
                while (counterOfPrompt < 3) {
                    newLisencePlate = prompt('Enter your lisence plate number.');

                    if (newLisencePlate.length == 6) {
                        break;
                    } else {
                        newLisencePlate = false;
                        counterOfPrompt++;
                        //counterOfPrompt = counterOfPrompt + 1;
                    }
                /* TODO: add extra validation to check 3 symbols are letters, 3-6 digits */
                }
                return newLisencePlate;
            }
            
            // TODO: get prompt value and add that value into our array carsList
            function addCarsToCarsArray() {
                carsList.unshift(newLisencePlate); 
                document.getElementById('cars-list').innerHTML = carsList;
            }
            
            function addCarToOurDataObject() {
                // select in object LisencePlateNumber property and assign value from prompt.
                var lisencePlateNumberInObject = mainData.clientData.car.lisencePlateNumber;
                lisencePlateNumberInObject = newLisencePlate;
                console.log(lisencePlateNumberInObject);
                console.log(mainData);
                //alert(lisencePlateNumberInObject);
            }
            
            // change function addCarsToCarsArray to return function
            // TODO: create new function which do that console.log(message);
            function logToConsole(message) {           
                console.log(message);
            }
            
            // write new function whick calls a prompt function and throws function return value into alert message.
            function checkPromptValue(newLisencePlate) {
                var alertMessage = promptAddNewCarLisencePlateNumber();
                alert(alertMessage);
            }
            
            function addNewlyInsertedCarToCarsList() {
                
            }
            
            // move var alertMessage out of function. call function checkPromptValue giving alert message value as argument.
                    
            /*while (counterOfPrompt < 3) {
                newLisencePlate = prompt('Enter your lisence plate number.');
                
                if (newLisencePlate.length !== 6) {
                    newLisencePlate = false
                    counterOfPrompt++;
                    //counterOfPrompt = counterOfPrompt + 1;
                } else {
                    break;
                }
                 
            } */
            
            carTotal = '10'; // string
            carTotal = String(carTotal); // same as 28th line. But more preferable.
            output = saleMessage + ' Now we have ' + carTotal + ' available. ';
            newLisencePlate ? newLisencePlate : newLisencePlate = "Lisence number plate is invalid.";
            output = output + '<br>' +  newLisencePlate;
            carTotal = carTotal - 1;
             
            /* OUTPUT  */
            //alert(typeof(carTotal));
            document.write(output);
            console.log(isCarAvailable);
            document.getElementById('page-title').innerHTML = '<u>CLOSED</u>'; 
        </script>
    </body>
</html>
